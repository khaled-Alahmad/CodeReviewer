# ๐ ุฏููู ุงูุจุฏุก ุงูุณุฑูุน - ูุดุฑ ูุธุงู ุฅุฏุงุฑุฉ ุงููุฏุฑุณุฉ

## ๐ฆ ูููุงุช ุงููุดุฑูุน ุงูุฌุงูุฒุฉ ูููุดุฑ

ุชู ุชุฌููุฒ ุฌููุน ุงููููุงุช ุงููุงุฒูุฉ ููุดุฑ ุงููุดุฑูุน ุนูู VPS:

### โ ุงููููุงุช ุงูุฃุณุงุณูุฉ:
- **database_backup.sql** (65 KB) - ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุน ุฌููุน ุงูุจูุงูุงุช
- **deploy.sh** - ุณูุฑูุจุช ูุดุฑ ุชููุงุฆู ูู HestiaCP  
- **.env.example** - ูุซุงู ุนูู ููู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
- **package.json** - ุฌููุน ุงูุชุจุนูุงุช ุงููุทููุจุฉ

### ๐ ูููุงุช ุงูุชูุซูู:
- **DEPLOYMENT_README.md** - ุฏููู ุงููุดุฑ ุงูุณุฑูุน (ุฅูุฌููุฒู)
- **VPS_DEPLOYMENT.md** - ุฏููู ุชูุตููู ุดุงูู ูููุดุฑ
- **ูุฐุง ุงูููู** - ุชุนูููุงุช ุงูุจุฏุก ุงูุณุฑูุน (ุนุฑุจู)

---

## ๐ฏ ุฎูุงุฑุงุช ุงููุดุฑ

### ุงูุฎูุงุฑ 1๏ธโฃ: ูุดุฑ ุชููุงุฆู ุนูู HestiaCP (ููุตู ุจู)

#### ุงูุฎุทูุงุช:

**1. ุชุนุฏูู ููู ุงููุดุฑ:**
```bash
nano deploy.sh
```

ุนุฏูู ุงููุชุบูุฑุงุช ุงูุชุงููุฉ:
```bash
VPS_USER="admin"                    # ุงุณู ุงููุณุชุฎุฏู ูู VPS
VPS_HOST="192.168.1.100"           # IP ุงูุฎุงุฏู ุฃู Domain
DOMAIN="school.example.com"         # ุงููุทุงู ุงูุฎุงุต ุจู
DB_NAME="school_db"                 # ุงุณู ูุงุนุฏุฉ ุงูุจูุงูุงุช
DB_USER="school_user"               # ูุณุชุฎุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช
DB_PASS="ูููุฉ_ูุฑูุฑ_ูููุฉ_ุฌุฏุงู"      # ูููุฉ ุงููุฑูุฑ
```

**2. ุชุดุบูู ุงูุณูุฑูุจุช:**
```bash
chmod +x deploy.sh
./deploy.sh
```

**3. ุฅุนุฏุงุฏ Proxy ูู HestiaCP:**
- ุงูุชุญ ููุญุฉ HestiaCP
- Web โ [ุงุฎุชุฑ ุงููุทุงู] โ Edit
- Advanced Options โ Proxy Template โ **NodeJS**
- Save โ

**โจ ุงูุชูู! ูููุนู ุฌุงูุฒ ุนูู:** `https://school.example.com`

---

### ุงูุฎูุงุฑ 2๏ธโฃ: ูุดุฑ ูุฏูู (ูุฃู VPS)

#### ุงููุชุทูุจุงุช:
- Ubuntu 20.04 ุฃู ุฃุญุฏุซ
- Node.js 20.x
- PostgreSQL 14+
- Nginx
- PM2

#### ุงูุฎุทูุงุช ุงูุณุฑูุนุฉ:

**1. ุชุซุจูุช ุงููุชุทูุจุงุช:**
```bash
# Node.js 20
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install -y nodejs postgresql nginx

# PM2
sudo npm install -g pm2
```

**2. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```bash
sudo -u postgres psql

CREATE DATABASE school_management;
CREATE USER school_admin WITH PASSWORD 'ูููุฉ_ูุฑูุฑ_ูููุฉ';
GRANT ALL PRIVILEGES ON DATABASE school_management TO school_admin;
\q

# ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช
psql -U school_admin -d school_management < database_backup.sql
```

**3. ุฑูุน ูููุงุช ุงููุดุฑูุน:**
```bash
# ูู ุฌูุงุฒู ุงููุญูู
scp -r /path/to/project/* user@vps-ip:/var/www/school/
```

**4. ุชูููู ูุชุดุบูู:**
```bash
cd /var/www/school

# ุฅูุดุงุก ููู .env
cp .env.example .env
nano .env
# ุนุฏูู DATABASE_URL ู SESSION_SECRET

# ุชุซุจูุช ูุจูุงุก
npm install
npm run build
npm run db:push --force

# ุชุดุบูู
pm2 start npm --name school -- start
pm2 save
pm2 startup
```

**5. ุฅุนุฏุงุฏ Nginx:**
```bash
sudo nano /etc/nginx/sites-available/school
```

ุฃุถู:
```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:5000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

```bash
sudo ln -s /etc/nginx/sites-available/school /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

**6. SSL ูุฌุงูู (ุงุฎุชูุงุฑู):**
```bash
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d your-domain.com
```

---

## ๐ ููุงุญุธุงุช ุฃูููุฉ ูููุฉ

### โ๏ธ ูุฌุจ ุชุบููุฑ:
1. **ูููุฉ ูุฑูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช** ูู deploy.sh ุฃู ูุฏููุงู
2. **SESSION_SECRET** ูู ููู .env (ุงุณุชุฎุฏู ููุชุงุญ ุนุดูุงุฆู ุทููู)
3. **ูููุงุช ูุฑูุฑ ุงููุณุชุฎุฏููู** ุงูุงูุชุฑุงุถูุฉ ูู ุงููุธุงู

### ๐ก๏ธ ุชุฃููู ุงูุฎุงุฏู:
```bash
# Firewall
sudo ufw allow 22/tcp
sudo ufw allow 80/tcp  
sudo ufw allow 443/tcp
sudo ufw enable

# ุชุญุฏูุซุงุช ุฃูููุฉ
sudo apt update && sudo apt upgrade -y
```

---

## ๐ ุฅุฏุงุฑุฉ ุงูุชุทุจูู

### ูุฑุงูุจุฉ ุงูุญุงูุฉ:
```bash
pm2 status                  # ุญุงูุฉ ุงูุชุทุจูู
pm2 logs school            # ุงูุณุฌูุงุช ุงููุจุงุดุฑุฉ
pm2 monit                  # ูุฑุงูุจุฉ ุงูููุงุฑุฏ
```

### ุงูุชุญูู:
```bash
pm2 restart school         # ุฅุนุงุฏุฉ ุชุดุบูู
pm2 stop school           # ุฅููุงู
pm2 start school          # ุชุดุบูู
```

### ูุณุฎ ุงุญุชูุงุทู ููุชุธู:
```bash
# ูุณุฎ ูุงุนุฏุฉ ุงูุจูุงูุงุช
pg_dump -U school_admin school_management > backup_$(date +%Y%m%d).sql
```

---

## ๐ ุญู ุงููุดุงูู

### ุงูุชุทุจูู ูุง ูุนููุ
```bash
pm2 logs school --lines 100    # ุชุญูู ูู ุงูุฃุฎุทุงุก
```

### ูุดููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ
```bash
sudo -u postgres psql
\l                            # ุนุฑุถ ุงูููุงุนุฏ
\c school_management          # ุงูุงุชุตุงู
\dt                           # ุนุฑุถ ุงูุฌุฏุงูู
```

### Nginx ูุง ูุนููุ
```bash
sudo nginx -t                 # ูุญุต ุงูุชูููู
sudo tail -f /var/log/nginx/error.log
```

---

## ๐ ูููุณุงุนุฏุฉ ุงูุฅุถุงููุฉ

- **ุงูุฏููู ุงูุดุงูู:** `VPS_DEPLOYMENT.md`
- **ุฏููู ุณุฑูุน:** `DEPLOYMENT_README.md`
- **ุณุฌูุงุช ุงููุธุงู:** `/var/log/` ุฃู `pm2 logs`

---

## โจ ูุนูููุงุช ุงููุดุฑูุน

**ูุธุงู ุฅุฏุงุฑุฉ ุงููุฏุฑุณุฉ - ุงูุฅุตุฏุงุฑ 1.0**

### ุงููููุฒุงุช:
โ ุฅุฏุงุฑุฉ ุงูุทูุงุจ ูุงููุนูููู
โ ุญุถูุฑ ูุบูุงุจ ุงููุนูููู ูุน ุฎุตู ุชููุงุฆู
โ ุฅุฏุฎุงู ูุฏุฑุฌุงุช ุงูุทูุงุจ
โ ุงููุญุงุณุจุฉ ูุงูุฑุณูู ุงููุฏุฑุณูุฉ
โ ุชูุงุฑูุฑ ูุฅุญุตุงุฆูุงุช ุดุงููุฉ
โ ูุงุฌูุฉ ุนุฑุจูุฉ ูุงููุฉ ูุน ุฏุนู ุงููุถุน ุงููููู

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ:** TRENDIFY PLUS

---

**๐ ููุงุญุธุฉ:** ุชุฃูุฏ ูู ุนูู ูุณุฎ ุงุญุชูุงุทูุฉ ููุชุธูุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช!
