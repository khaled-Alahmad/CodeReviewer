# ๐ ุฏููู ุงููุดุฑ ุงููุจุงุดุฑ ุนูู HestiaCP

## โ ูุง ุชู ุฅุนุฏุงุฏู:

ุชู ุฅูุดุงุก ุณูุฑูุจุชุงุช ูุดุฑ ุชููุงุฆูุฉ:

1. **`deploy.sh`** - ุงููุดุฑ ุงููุงูู (ุฃูู ูุฑุฉ ุฃู ุนูุฏ ุชุบููุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช)
2. **`deploy-quick.sh`** - ุชุญุฏูุซ ุณุฑูุน (ููุท ุงูููุฏ)

---

## ๐ ุงูุฎุทูุงุช ุงููุทููุจุฉ:

### **ุงููุฑุญูุฉ 1: ุฅุนุฏุงุฏ VPS (ูุฑุฉ ูุงุญุฏุฉ)**

#### 1. ุงุชุตู ุจู VPS ุนุจุฑ SSH:
```bash
ssh root@your-vps-ip
```

#### 2. ุซุจูุช ุฅุถุงูุฉ Node.js:
```bash
cd /usr/local/src
git clone https://github.com/cristiancosano/hestiacp-nodejs.git
cd hestiacp-nodejs
chmod +x install.sh
./install.sh
```

#### 3. ุฃูุดุฆ ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL:

**ูู ูุงุฌูุฉ HestiaCP:**
- ุงุฐูุจ ุฅูู **Databases** โ **PostgreSQL**
- ุงุถุบุท **Add Database**
- ุงููุฃ:
  - Database: `school_db`
  - User: `school_user`
  - Password: (ูููุฉ ูุฑูุฑ ูููุฉ - ุงุญูุธูุง!)

**ุฃู ูู Terminal:**
```bash
v-add-database admin school_db school_user YourStrongPass123 postgresql
```

#### 4. ุฃูุดุฆ ุงููุทุงู (Domain) ูู HestiaCP:
- ุงุฐูุจ ุฅูู **Web**
- ุงุถุบุท **Add Web Domain**
- ุฃุฏุฎู ุงููุทุงู: `yourdomain.com`
- ุงุญูุธ

#### 5. ุฃูุดุฆ ูุฌูุฏ ุงูุชุทุจูู:
```bash
mkdir -p /home/admin/web/yourdomain.com/nodeapp
chown -R admin:admin /home/admin/web/yourdomain.com/nodeapp
```

---

### **ุงููุฑุญูุฉ 2: ุฅุนุฏุงุฏ SSH ูู Replit (ูุฑุฉ ูุงุญุฏุฉ)**

#### 1. ุฅูุดุงุก SSH Key ูู Replit:
```bash
# ูู Shell ุงูุฎุงุต ุจู Replit
ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_rsa -N ""
cat ~/.ssh/id_rsa.pub
```

#### 2. ุงูุณุฎ ุงูููุชุงุญ ุงูุนุงู ูุงุฐูุจ ูู VPS:
```bash
# ุนูู VPS
nano /home/admin/.ssh/authorized_keys
# ุงูุตู ุงูููุชุงุญ ุงูุนุงู ูุงุญูุธ
```

#### 3. ุงุฎุชุจุฑ ุงูุงุชุตุงู ูู Replit:
```bash
ssh admin@your-vps-ip
# ูุฌุจ ุฃู ูุฏุฎู ูุจุงุดุฑุฉ ุจุฏูู ูููุฉ ูุฑูุฑ
```

---

### **ุงููุฑุญูุฉ 3: ุชุนุฏูู ุณูุฑูุจุช ุงููุดุฑ**

ุงูุชุญ ููู `deploy.sh` ูุนุฏูู:

```bash
VPS_USER="admin"                    # ูุณุชุฎุฏู HestiaCP
VPS_HOST="123.45.67.89"            # IP ุงูุฎุงุต ุจู VPS (ุฃู ุงููุทุงู)
DOMAIN="yourdomain.com"             # ุงููุทุงู ุงูุฎุงุต ุจู
DB_NAME="school_db"                 # ุงุณู ูุงุนุฏุฉ ุงูุจูุงูุงุช
DB_USER="school_user"               # ูุณุชุฎุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช
DB_PASS="YourStrongPass123"         # ูููุฉ ูุฑูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

ุงูุนู ููุณ ุงูุดูุก ูู `deploy-quick.sh`

---

### **ุงููุฑุญูุฉ 4: ุงููุดุฑ! ๐**

#### **ุงููุดุฑ ุงููุงูู (ุฃูู ูุฑุฉ):**
```bash
# ูู Replit Shell
chmod +x deploy.sh
./deploy.sh
```

ูุฐุง ุณูููู ุจู:
- โ ุจูุงุก ุงููุดุฑูุน
- โ ุฑูุน ุงููููุงุช
- โ ุงุณุชูุฑุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุชุซุจูุช ุงูุญุฒู
- โ ุชุดุบูู ุงูุชุทุจูู ูุน PM2

#### **ุชุญุฏูุซ ุณุฑูุน (ุจุนุฏ ุชุนุฏูู ุงูููุฏ):**
```bash
chmod +x deploy-quick.sh
./deploy-quick.sh
```

---

### **ุงููุฑุญูุฉ 5: ุชูุนูู Node.js ูู HestiaCP**

**ููู ุฌุฏุงู - ุขุฎุฑ ุฎุทูุฉ!**

1. ุงูุชุญ ููุญุฉ HestiaCP
2. ุงุฐูุจ ุฅูู **Web** โ ุงุฎุชุฑ `yourdomain.com`
3. ุงุถุบุท **Edit**
4. **Advanced Options** โ **Proxy Template** โ ุงุฎุชุฑ **"NodeJS"**
5. ุงุถุบุท **Save**

ุงูุขู ูููุนู ูุนูู! ๐

---

## ๐ ูุญุต ุงูุญุงูุฉ ูุงูุณุฌูุงุช

### ุนูู VPS:
```bash
# ุญุงูุฉ ุงูุชุทุจูู
pm2 status

# ุงูุณุฌูุงุช ุงููุจุงุดุฑุฉ
pm2 logs yourdomain.com

# ุฅุนุงุฏุฉ ุชุดุบูู
pm2 restart yourdomain.com

# ุฅููุงู
pm2 stop yourdomain.com
```

### ูู HestiaCP:
- **Web** โ ุงููุทุงู โ **Statistics**
- **Logs** โ ุณุฌูุงุช Nginx

---

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ูููู ุงูุงุชุตุงู ุจู VPS
**ุงูุญู:**
```bash
# ุชุฃูุฏ ูู SSH key
ssh-add ~/.ssh/id_rsa
ssh -v admin@your-vps-ip
```

### ุงููุดููุฉ: 502 Bad Gateway
**ุงูุญู:**
1. ุชุญูู ูู ุฃู PM2 ูุนูู: `pm2 status`
2. ุชุญูู ูู Port ูู `.env`: `PORT=5000`
3. ุฃุนุฏ ุชุทุจูู Proxy Template ูู HestiaCP

### ุงููุดููุฉ: ุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
**ุงูุญู:**
```bash
# ุนูู VPS
psql -U school_user -d school_db
# ุงุฎุชุจุฑ ุงูุงุชุตุงู
\dt  # ุนุฑุถ ุงูุฌุฏุงูู
```

---

## ๐ฏ ุงููุดุฑ ุงูุชููุงุฆู (ุงุฎุชูุงุฑู)

ููุดุฑ ุชููุงุฆู ุนูุฏ ูู ุชุญุฏูุซ:

1. ุงุฑูุน ุงููุดุฑูุน ุนูู GitHub
2. ุฃูุดุฆ GitHub Action (ููู `.github/workflows/deploy.yml`)
3. ูู ูุฑุฉ ุชุฏูุน ุชุญุฏูุซุ ุณูููุดุฑ ุชููุงุฆูุงู!

---

## ๐ ููุฎุต ุงูุฃูุงูุฑ ุงูุณุฑูุนุฉ

```bash
# ุงููุดุฑ ุงููุงูู (ุฃูู ูุฑุฉ)
./deploy.sh

# ุชุญุฏูุซ ุณุฑูุน
./deploy-quick.sh

# ูุญุต ุงูุญุงูุฉ (ุนูู VPS)
ssh admin@vps "pm2 status"

# ุงูุณุฌูุงุช (ุนูู VPS)
ssh admin@vps "pm2 logs yourdomain.com --lines 50"
```

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

- [ ] ุชุซุจูุช ุฅุถุงูุฉ hestiacp-nodejs ุนูู VPS
- [ ] ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL
- [ ] ุฅูุดุงุก ุงููุทุงู ูู HestiaCP
- [ ] ุฅุนุฏุงุฏ SSH key ุจูู Replit ู VPS
- [ ] ุชุนุฏูู `deploy.sh` ุจูุนูููุงุชู
- [ ] ุชุดุบูู `./deploy.sh`
- [ ] ุชูุนูู Proxy Template "NodeJS" ูู HestiaCP
- [ ] ูุชุญ ุงููููุน: `https://yourdomain.com`

---

**๐ ูุจุฑูู! ูููุนู ุงูุขู ุนูู ุงูููุงุก ูุจุงุดุฑุฉ!**
